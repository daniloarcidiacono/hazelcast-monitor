<div class="Page__Main" mdcTypography>
  <div class="ConnectCard" [mdcElevation]="4">
    <div class="ConnectCard__Progress">
      <mdc-linear-progress [closed]="!isProgressVisible()">
      </mdc-linear-progress>
    </div>
    <div class="ConnectCard__Logo"></div>
    <h1 mdcHeadline6>Connect</h1>
    <form [formGroup]="bindings.form" class="ConnectCard__Form">
      <div>
        <!-- Protocol -->
        <mdc-select formControlName="protocol"
                    [outlined]="true"
                    placeholder="Protocol"
                    [floatingLabel]="true"
                    class="ConnectCard__ProtocolSelector">
          <option value="http" selected>ws</option>
          <option value="https">wss</option>
        </mdc-select>

        <!-- Host -->
        <mdc-text-field formControlName="host"
                        type="text"
                        [outlined]="true"
                        [dense]="false"
                        label="Host"
                        [helperText]="hostHelper"
                        [required]="true"
                        class="ConnectCard__HostSelector">
        </mdc-text-field>
        <mdc-text-field-helper-text #hostHelper [validation]="true" [persistent]="false">
          <span *ngIf="bindings.form.controls['host'].errors?.required">Host is required</span>
        </mdc-text-field-helper-text>
      </div>

      <!-- Port -->
      <mdc-text-field formControlName="port"
                      type="number"
                      [outlined]="true"
                      [dense]="false"
                      label="Port"
                      [helperText]="portHelper"
                      [required]="true">
      </mdc-text-field>
      <mdc-text-field-helper-text #portHelper [validation]="true" [persistent]="false">
        <span *ngIf="bindings.form.controls['port'].errors?.required">Port is required</span>
      </mdc-text-field-helper-text>

      <!-- Path -->
      <mdc-text-field formControlName="path"
                      type="text"
                      [outlined]="true"
                      [dense]="false"
                      label="Path">
      </mdc-text-field>
      <!--<mdc-text-field-helper-text #pathHelper [validation]="true" [persistent]="false">-->
        <!--<span *ngIf="bindings.form.controls['path'].errors?.required">Path is required</span>-->
      <!--</mdc-text-field-helper-text>-->

      <button mdc-button
              *ngIf="isConnectButtonVisible()"
              [primary]="true"
              [raised]="true"
              [disabled]="!isConnectButtonEnabled()"
              (click)="connect()"
              class="ConnectCard__ConnectButton">
        Connect
      </button>
      <button mdc-button
              *ngIf="isDisconnectButtonVisible()"
              [outlined]="true"
              (click)="disconnect()"
              class="ConnectCard__DisconnectButton">
        Disconnect
      </button>
    </form>
  </div>
</div>
